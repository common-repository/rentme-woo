jQuery(function(l){const i=e=>{var[e,a]=e.split(" ");let[r,c]=e.split(":");return"12"===r&&(r="00"),(r="PM"===a?parseInt(r,10)+12:r)+":"+c};l(".icrmw_loader").removeClass("active"),l(".icrmw_rloader").removeClass("active"),l(".icrmw_booking_form").removeClass("icrmw_loader_effect"),l(".icrmw-request-tab").removeClass("icrmw_loader_effect");var t=l("#icrmw_bdatetimepicker").data("timepicker"),e=l("#icrmw_bdatetimepicker").data("cintime"),a=l("#icrmw_bdatetimepicker").data("couttime"),r=l("#icrmw_bdatetimepicker").data("date"),c=1==t?'{"format": "MMMM DD hh:mm A"}':'{"format": "MMMM DD"}',c=JSON.parse(c),c=(l("#icrmw_bdatetimepicker").daterangepicker({timePicker:t,minDate:r,startDate:r,endDate:r,applyClass:"applyBtn btn btn-sm btn-primary ",cancelClass:"cancelBtn btn btn-sm btn-default ",locale:c,opens:"center"},function(e,a,r){var c,e=1==t?(c=e.format("YYYY-MM-DD")+" "+i(e.format("hh:mm A")),a.format("YYYY-MM-DD")+" "+i(a.format("hh:mm A"))):(c=e.format("YYYY-MM-DD"),a.format("YYYY-MM-DD"));l(".icrmw_bcheck_in").val(c),l(".icrmw_bcheck_out").val(e)}),l("#icrmw_bdatetimepicker").val(""),0==t&&""!=e&&""!=a&&(r='<div class="icrmw_cin_cout"><div class="icrmw_checkin_time"><span class="label">Checkin</span><div class="cin_cout_content">'+e+'</div></div><div class="icrmw_checkout_time"><span class="label">Checkout</span><div class="cin_cout_content">'+a+"</div></div></div>",l(".daterangepicker .drp-buttons").prepend(r)),0!=t||""!=e&&""!=a||l(".daterangepicker .drp-buttons").prepend('<div class="icrmw_cin_cout"><div class="icrmw_checkin_time"><span class="label">Checkin</span><div class="cin_cout_content">9:00 AM</div></div><div class="icrmw_checkout_time"><span class="label">Checkout</span><div class="cin_cout_content">5:00 PM</div></div></div>'),l("#icrmw_rdatetimepicker").data("date"));l("#icrmw_rdatetimepicker").daterangepicker({timePicker:!0,minDate:c,startDate:c,endDate:c,applyClass:"applyBtn btn btn-sm btn-primary ",cancelClass:"cancelBtn btn btn-sm btn-default ",locale:{format:"MMMM DD hh:mm A"},opens:"center"},function(e,a,r){e=e.format("YYYY-MM-DD")+" "+i(e.format("hh:mm A")),a=a.format("YYYY-MM-DD")+" "+i(a.format("hh:mm A"));l(".icrmw_rcheck_in").val(e),l(".icrmw_rcheck_out").val(a)}),l("#icrmw_rdatetimepicker").val("");const m=document.querySelectorAll(".icrmw-tab"),s=document.querySelectorAll(".icrmw-tab-content");function _(r){m.forEach((e,a)=>{a===r?e.classList.add("active"):e.classList.remove("active")}),s.forEach((e,a)=>{a===r?e.classList.add("active"):e.classList.remove("active")})}_(0),m.forEach((e,a)=>{e.addEventListener("click",()=>{_(a)})}),l(".icrmw_minus_child").click(function(){l(".icrmw_plus_child").removeClass("icrmw_disabled");var e=l(this).parent().find("input"),a=parseInt(e.val())-1;return e.val(a<0?0:a),e[0].min==parseInt(e.val())&&l(".icrmw_minus_child").addClass("icrmw_disabled"),e.change(),!1}),l(".icrmw_minus_adult").click(function(){l(".icrmw_plus_adult").removeClass("icrmw_disabled");var e=l(this).parent().find("input"),a=parseInt(e.val())-1;return e.val(a<1?1:a),e[0].min==parseInt(e.val())&&l(".icrmw_minus_adult").addClass("icrmw_disabled"),e.change(),!1}),l(".icrmw_plus_adult").click(function(){var e=l(this).parent().find("input.icrmw_adults");return""!=e[0].max?(e[0].max!=parseInt(e.val())?(e.val(parseInt(e.val())+1),l(".icrmw_plus_adult").removeClass("icrmw_disabled"),l(".icrmw_minus_adult").removeClass("icrmw_disabled")):e.val(parseInt(e.val())),e[0].max==parseInt(e.val())&&l(".icrmw_plus_adult").addClass("icrmw_disabled")):(e.val(parseInt(e.val())+1),l(".icrmw_minus_adult").removeClass("icrmw_disabled")),e.change(),!1}),l(".icrmw_plus_child").click(function(){var e=l(this).parent().find("input.icrmw_childrens");return""!=e[0].max?(e[0].max!=parseInt(e.val())?(e.val(parseInt(e.val())+1),l(".icrmw_plus_child").removeClass("icrmw_disabled"),l(".icrmw_minus_child").removeClass("icrmw_disabled")):e.val(parseInt(e.val())),e[0].max==parseInt(e.val())&&l(".icrmw_plus_child").addClass("icrmw_disabled")):(e.val(parseInt(e.val())+1),l(".icrmw_minus_child").removeClass("icrmw_disabled")),e.change(),!1}),jQuery(".icrmw_booking_form").on("change",":input",function(){var e,a,r=l("input[name=icrmw_bookingform_nonce]").val(),c=l(".icrmw_bcheck_in").val(),i=l(".icrmw_bcheck_out").val();""!=c&&""!=i||l("#icrmw_bdatetimepicker").val(""),l(this).hasClass("icrmw_exclude")||""==c||""==i||(l(".icrmw_loader").addClass("active"),l(".icrmw_booking_form").addClass("icrmw_loader_effect"),e=l(".icrmw_bproduct_id").val(),(a=new FormData).append("merge_check_in",c),a.append("merge_check_out",i),a.append("product_id",e),a.append("icrmw_bookingform_nonce",r),a.append("action","icrmw_product_price_calculation"),jQuery.ajax({url:ajax_object.ajax_url,type:"post",contentType:!1,processData:!1,data:a,success:function(e){l(".icrmw_loader").removeClass("active"),l(".icrmw_booking_form").removeClass("icrmw_loader_effect"),l(".icrmw_total_amount .icrmw_total_price").text(e.price)}}))}),jQuery(".icrmw_booking_btn").on("click",function(e){var a=l(".icrmw_bcheck_in").val(),r=l(".icrmw_bcheck_out").val();""!=a&&""!=r||(e.preventDefault(),document.getElementById("icrmw_booking_form_main").scrollIntoView({behavior:"smooth"}),l("#icrmw_bdatetimepicker").trigger("click")),l("form").submit(function(){})}),jQuery("#icrmw_rdatetimepicker").on("change",function(){var e=l(".icrmw_rcheck_in").val(),a=l(".icrmw_rcheck_out").val();""==e&&""==a&&l("#icrmw_rdatetimepicker").val("")}),jQuery(".icrmw_request_btn").on("click",function(e){var a=l("input[name=icrmw_requestform_nonce]").val(),r=(l(".icrmw_success_msg").removeClass("active"),l(".icrmw_mail_error_msg").removeClass("active"),l(".icrmw_rproduct_id").val()),c=l(".icrmw_req_name").val(),i=(""!=c?l(".icrmw_name_field .icrmw_error_msg").removeClass("active"):(e.preventDefault(),l(".icrmw_name_field .icrmw_error_msg").addClass("active")),l(".icrmw_req_email").val()),t=!0,m=(m=i,(t=!!/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(m))?l(".icrmw_email_field .icrmw_error_msg").removeClass("active"):(e.preventDefault(),l(".icrmw_email_field .icrmw_error_msg").addClass("active")),l(".icrmw_req_phone").val()),s=(""!=m?l(".icrmw_phone_field .icrmw_error_msg").removeClass("active"):(e.preventDefault(),l(".icrmw_phone_field .icrmw_error_msg").addClass("active")),l(".icrmw_rcheck_in").val()),_=l(".icrmw_rcheck_out").val();""!=s&&""!=_?l(".icrmw_rdate_picker .icrmw_error_msg").removeClass("active"):(e.preventDefault(),l(".icrmw_rdate_picker .icrmw_error_msg").addClass("active")),""!=c&&t&&""!=m&&""!=s&&""!=_&&(e.preventDefault(),l(".icrmw_rloader").addClass("active"),l(".icrmw-request-tab").addClass("icrmw_loader_effect"),(t=new FormData).append("icrmw_req_name",c),t.append("icrmw_req_email",i),t.append("icrmw_req_phone",m),t.append("icrmw_rcheck_in",s),t.append("icrmw_rcheck_out",_),t.append("product_id",r),t.append("icrmw_requestform_nonce",a),t.append("action","icrmw_request_form_submit"),jQuery.ajax({url:ajax_object.ajax_url,type:"post",contentType:!1,processData:!1,data:t,success:function(e){1==e.mailSts?(l(".icrmw_rloader").removeClass("active"),l(".icrmw-request-tab").removeClass("icrmw_loader_effect"),l(".icrmw_success_msg").addClass("active"),l(".icrmw_req_name").val(""),l(".icrmw_req_email").val(""),l(".icrmw_req_phone").val(""),l("#icrmw_rdatetimepicker").val(""),l(".icrmw_rcheck_in").val(""),l(".icrmw_rcheck_out").val("")):(l(".icrmw_rloader").removeClass("active"),l(".icrmw-request-tab").removeClass("icrmw_loader_effect"),l(".icrmw_mail_error_msg").addClass("active"))}}))})});